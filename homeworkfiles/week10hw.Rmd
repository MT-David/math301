---
title: "simulation assignment"
author: "Sebastian Hoyos-Torres"
date: "11/5/2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
To run a simulation in R of any kind, we start by looking at how the distribution functions prefaced with an "r" work. For example, lets start with a simulation from the standard normal distribution of n = 1000.
```{r}
x <- rnorm(1000)
head(x)
```
If we were to look at the distribution of values within x, all we would need to do is:
```{r}
library(ggplot2)
qplot(x, geom = "histogram")
```

From the plot above, we see our data values are approximately normally distributed. However, let's say we took the means of 5000 different distributions generated by rnorm. All we would need to do is:
```{r}
normmean <- c()
for (i in 1:5000) {
  normmean[i] <- mean(rnorm(1000))
}
```
What did the above just do?? For those unfamiliar with programming in other computer languages; we simply took the mean of 5000 different simulations of rnorm and stored the means as a variable. To illustrate the central limit theorem (which is the central purpose of this assignment), let's test a few things out.
```{r}
mean(normmean) #pretty close to 0
sd(normmean) #however note that the sd is pretty off from the sd of the original distribution
```
Visually, let's see how these values are distributed.
```{r}
qplot(normmean)
```

This illustrates the Central Limit Theorem perfectly. Now let's go through  the whole assignment and see how we could simulate the means super quickly in R from a number of different distributions in one go.
```{r}
normmean <- expmean <- gammamean <- chimean <- tmean <- betamean <- unifmean <- weibullmean <- logmean <- c()
for (i in 1:5000) {
  normmean[i] <- mean(rnorm(200))
  expmean[i] <- mean(rexp(200))
  gammamean[i] <- mean(rgamma(200, shape = 1, scale = 1))
  chimean[i] <- mean(rchisq(200,df = 1))
  tmean[i] <- mean(rt(200,df = 1))
  betamean[i] <- mean(rbeta(200, shape1 = 1, shape2 = 1))
  unifmean[i] <- mean(runif(200))
  logmean[i] <- mean(rlnorm(200))
  listmeans <- list(normmean,expmean,gammamean,chimean,tmean,betamean,unifmean,logmean)
}
```
The last line in that loop makes an object that is useful to loop through. Lists are very helpful in R and what we essentially did, without going into too much detail is assign multiple vecators to a list. We can use lapply to speed up the applications (in tidy notation, it would be map, but up to you)
```{r}
library(purrr)
lapply(listmeans, mean)
map(listmeans,mean)
```
The above assesses the mean of the sampling distribution of the mean for each of the distributions we sampled from. Next, we should assess the standard deviation or the standard error for this distribution.
```{r}
lapply(listmeans, sd)
map(listmeans,sd)
```
With this, we're almost done. How do we make those plots? Well, we need to adjust the parameters. Unfortunately, there isn't an easy equivalent for par withour getting into the realm of dependencies so if you used ggplot2, you would have to create multiple histograms.
```{r}
lapply(listmeans,function(x)qplot(x,geom = "histogram"))
```

